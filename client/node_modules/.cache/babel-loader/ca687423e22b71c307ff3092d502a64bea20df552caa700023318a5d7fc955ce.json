{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { tokenContext } from \"../context/TokenContext\";\nconst useGetChatRooms = () => {\n  _s();\n  const [chatRoom, setChatRoom] = useState([]);\n  const {\n    token\n  } = useContext(tokenContext);\n  const getChatRooms = async () => {\n    if (!token) {\n      console.log(\"Token not found\");\n      return;\n    }\n    try {\n      const response = await axios(\"http://localhost:8000/api/room/chatrooms\", {\n        headers: {\n          authorization: token\n        }\n      });\n      if (response.statusCode !== 200) {\n        throw new Error(\"ChatRoom not found\");\n      }\n      const res = await response.da;\n      setChatRoom(res.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getChatRooms();\n  }, []);\n  return {\n    chatRoom\n  };\n};\n_s(useGetChatRooms, \"jlLjdPmwSfrBXntHFiRPeYvtMhg=\");\nexport default useGetChatRooms;","map":{"version":3,"names":["useContext","useEffect","useState","axios","tokenContext","useGetChatRooms","_s","chatRoom","setChatRoom","token","getChatRooms","console","log","response","headers","authorization","statusCode","Error","res","da","data","error"],"sources":["C:/Users/black/OneDrive/Рабочий стол/pdp_chat/client/src/hooks/useGetChatRooms.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { tokenContext } from \"../context/TokenContext\";\r\n\r\nconst useGetChatRooms = () => {\r\n  const [chatRoom, setChatRoom] = useState([]);\r\n  const { token } = useContext(tokenContext);\r\n\r\n  const getChatRooms = async () => {\r\n\r\n    if (!token) {\r\n        console.log(\"Token not found\");\r\n        return ;\r\n    }\r\n\r\n    try {\r\n      const response = await axios(\"http://localhost:8000/api/room/chatrooms\", {\r\n        headers: {\r\n          authorization: token,\r\n        },\r\n      });\r\n\r\n      if (response.statusCode !== 200) {\r\n        throw new Error(\"ChatRoom not found\");\r\n      }\r\n\r\n      const res = await response.da;\r\n\r\n      setChatRoom(res.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getChatRooms();\r\n  }, [])\r\n\r\n  return { chatRoom }\r\n};\r\n\r\nexport default useGetChatRooms;\r\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,yBAAyB;AAEtD,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAAEO;EAAM,CAAC,GAAGT,UAAU,CAACI,YAAY,CAAC;EAE1C,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAE/B,IAAI,CAACD,KAAK,EAAE;MACRE,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;MAC9B;IACJ;IAEA,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAAC,0CAA0C,EAAE;QACvEW,OAAO,EAAE;UACPC,aAAa,EAAEN;QACjB;MACF,CAAC,CAAC;MAEF,IAAII,QAAQ,CAACG,UAAU,KAAK,GAAG,EAAE;QAC/B,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;MACvC;MAEA,MAAMC,GAAG,GAAG,MAAML,QAAQ,CAACM,EAAE;MAE7BX,WAAW,CAACU,GAAG,CAACE,IAAI,CAAC;IACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;IACpB;EACF,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACdS,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEH;EAAS,CAAC;AACrB,CAAC;AAACD,EAAA,CAnCID,eAAe;AAqCrB,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}